{"version":3,"file":"actions.js","names":["commands","helpers","extensions","exports","pressKeyCode","keycode","metastate","flags","uiautomator2","jwproxy","command","longPressKeyCode","doSwipe","swipeOpts","doDrag","dragOpts","getOrientation","setOrientation","orientation","toUpperCase","mobilePressKey","opts","isLongPress","mobileScheduleAction","mobileGetActionHistory","mobileUnscheduleAction","Object","assign","_default","default"],"sources":["../../../lib/commands/actions.js"],"sourcesContent":["\n\nlet commands = {}, helpers = {}, extensions = {};\n\ncommands.pressKeyCode = async function (keycode, metastate = null, flags = null) {\n  return await this.uiautomator2.jwproxy.command('/appium/device/press_keycode', 'POST', {\n    keycode,\n    metastate,\n    flags,\n  });\n};\n\ncommands.longPressKeyCode = async function (keycode, metastate = null, flags = null) {\n  return await this.uiautomator2.jwproxy.command('/appium/device/long_press_keycode', 'POST', {\n    keycode,\n    metastate,\n    flags\n  });\n};\n\ncommands.doSwipe = async function (swipeOpts) {\n  return await this.uiautomator2.jwproxy.command(`/touch/perform`, 'POST', swipeOpts);\n};\n\ncommands.doDrag = async function (dragOpts) {\n  return await this.uiautomator2.jwproxy.command(`/touch/drag`, 'POST', dragOpts);\n};\n\ncommands.getOrientation = async function () {\n  return await this.uiautomator2.jwproxy.command(`/orientation`, 'GET', {});\n};\n\ncommands.setOrientation = async function (orientation) {\n  orientation = orientation.toUpperCase();\n  return await this.uiautomator2.jwproxy.command(`/orientation`, 'POST', {orientation});\n};\n\n/**\n * @typedef {Object} PressKeyOptions\n * @property {number} keycode A valid Android key code. See https://developer.android.com/reference/android/view/KeyEvent\n * for the list of available key codes\n * @property {number?} metastate An integer in which each bit set to 1 represents a pressed meta key. See\n * https://developer.android.com/reference/android/view/KeyEvent for more details.\n * @property {string?} flags Flags for the particular key event. See\n * https://developer.android.com/reference/android/view/KeyEvent for more details.\n * @property {boolean} isLongPress [false] Whether to emulate long key press\n*/\n\n/**\n * Emulates single key press of the key with the given code.\n *\n * @param {PressKeyOptions} opts\n */\ncommands.mobilePressKey = async function mobilePressKey(opts = {}) {\n  const {\n    keycode,\n    metastate,\n    flags,\n    isLongPress = false,\n  } = opts;\n\n  return await this.uiautomator2.jwproxy.command(\n    `/appium/device/${isLongPress ? 'long_' : ''}press_keycode`,\n    'POST', {\n      keycode,\n      metastate,\n      flags\n    }\n  );\n};\n\n/**\n * See https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/scheduled-actions.md#mobile-scheduleaction\n * @param {Record<string, any>} opts\n */\ncommands.mobileScheduleAction = async function mobileScheduleAction (opts = {}) {\n  return await this.uiautomator2.jwproxy.command('/appium/schedule_action', 'POST', opts);\n};\n\n/**\n * @typedef {Object} ActionResult\n * @property {number} repeats\n * @property {Record<string, any>[][]}\n */\n\n/**\n * @typedef {Object} ActionArgs\n * @property {string} name\n */\n\n/**\n * See https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/scheduled-actions.md#mobile-getactionhistory\n * @param {ActionArgs} opts\n * @returns {Promise<ActionResult>}\n */\ncommands.mobileGetActionHistory = async function mobileGetActionHistory (opts) {\n  return await this.uiautomator2.jwproxy.command('/appium/action_history', 'POST', opts ?? {});\n};\n\n/**\n * See https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/scheduled-actions.md#mobile-unscheduleaction\n * @param {ActionArgs} opts\n */\ncommands.mobileUnscheduleAction = async function mobileUnscheduleAction (opts) {\n  return await this.uiautomator2.jwproxy.command('/appium/unschedule_action', 'POST', opts ?? {});\n};\n\nObject.assign(extensions, commands, helpers);\nexport { commands, helpers };\nexport default extensions;\n"],"mappings":"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"}